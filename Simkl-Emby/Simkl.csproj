<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>netstandard2.0</TargetFramework>
	<AssemblyVersion>1.0.0.0</AssemblyVersion>
	<FileVersion>1.0.0.0</FileVersion>
	<Authors>David Dav√≥</Authors>
	<Company>Simkl</Company>
	<Version>0.1.0</Version>
	<NeutralLanguage>en-GB</NeutralLanguage>
	<RepositoryUrl>https://github.com/SIMKL/Emby</RepositoryUrl>
	<RepositoryType>git</RepositoryType>
  </PropertyGroup>
  
  <ItemGroup>
    <PackageReference Include="mediabrowser.server.core" Version="3.5.0" />
    <PackageReference Include="System.Reflection.TypeExtensions" Version="4.5.0" />
  </ItemGroup>
  
  <ItemGroup>
    <None Remove="Configuration\configPage.html" />
  </ItemGroup>
  
  <ItemGroup>
    <EmbeddedResource Include="Configuration\configPage.html" />
  </ItemGroup>
  
  <ItemGroup>
    <Folder Include="Properties\" />
  </ItemGroup>
  
  <Target Name="PostBuild" AfterTargets="PostBuildEvent">
    <Error Condition="'$(OS)' != Windows_NT And '$(OS)' != 'Unix'" Text="Unknown OS: $(OS)"/>
    <Exec Condition="'$(OS)' == 'Windows_NT'" Command="xcopy &quot;$(TargetPath)&quot; &quot;%AppData%\Emby-Server\programdata\plugins&quot; /y&#xD;&#xA;tasklist /FI &quot;IMAGENAME eq EmbyServer.exe&quot; 2&gt;NUL | findstr &quot;EmbyServer.exe&quot;&gt;NUL&#xD;&#xA;if &quot;%ERRORLEVEL%&quot;==&quot;0&quot; goto curlRestart&#xD;&#xA;explorer %appdata%\Emby-Server\system\EmbyServer.exe&#xD;&#xA;exit 0&#xD;&#xA;:curlRestart&#xD;&#xA;curl -f -X POST &quot;http://localhost:8096/emby/System/Restart&quot; -H &quot;accept: application/json&quot; -d &quot;&quot;" />
    <Exec Condition="'$(OS)' == 'Unix'" Command="curl -f -X POST &quot;http://localhost:8096/emby/System/Restart&quot; -H &quot;accept: application/json&quot; -d &quot;&quot;"/>
  </Target>

</Project>
